<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Access Denied</title>
  <link
    rel="stylesheet"
    href="{{ url_for('static', filename='css/forbidden.css') }}"
  />
</head>
<body>
  <div class="card">
    <h1>Access Denied</h1>
    <p>{{ message }}</p>
    <a href="{{ url_for('auth.login') }}" class="button">Return to Login</a>
  </div>

  <script>
    // Ensure back button always goes to login
    window.onpopstate = () => window.location = "{{ url_for('auth.login') }}";
    // Clean history so back skips callback URL
    history.replaceState(null, '', "{{ url_for('auth.forbidden_page') }}");
  </script>
</body>
</html>
